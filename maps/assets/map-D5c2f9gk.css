body,html{margin:0;padding:0;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif;height:100%;overflow:hidden}#map{position:absolute;top:0;bottom:0;width:100%;height:100%}.toolbar{width:29px;position:absolute;top:200px;right:10px;display:flex;flex-direction:column;gap:10px;z-index:1}.toolbar-btn{background-color:#fffffff2;padding:0;border:1px solid rgba(0,0,0,.1);border-radius:4px;box-shadow:0 2px 8px #00000026;z-index:1000;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:29px;height:29px}.toolbar-btn:hover{background-color:#000000e6;transform:translateY(-1px)}#import-btn{background-image:url(../assets/toolbar/import.svg);background-repeat:no-repeat}#export-btn{background-image:url(../assets/toolbar/export.svg);background-repeat:no-repeat}#preview-btn{background-image:url(../assets/toolbar/preview.svg);background-repeat:no-repeat}#edit-btn{background-image:url(../assets/toolbar/edit.svg);background-repeat:no-repeat}#save-btn{background-image:url(../assets/toolbar/save.svg);background-repeat:no-repeat}#delete-btn{background-image:url(../assets/toolbar/delete.svg);background-repeat:no-repeat}.import-modal{position:fixed;top:0;left:0;width:100%;height:100%;background:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;opacity:0;visibility:hidden;transition:opacity .3s ease,visibility .3s ease}.import-modal.show{opacity:1;visibility:visible}.import-modal-content{background:#fff;border-radius:8px;width:90%;max-width:500px;padding:20px;box-shadow:0 4px 20px #0003}.import-modal-content h3{margin-top:0;margin-bottom:20px;text-align:center;color:#333}.import-drop-zone{border:2px dashed #ccc;border-radius:8px;padding:30px;text-align:center;margin-bottom:20px;cursor:pointer;transition:all .3s ease}.import-drop-zone.dragover{background:#f0f8ff;border-color:#007bff}.import-drop-zone div{font-size:40px;margin-bottom:10px}.import-drop-zone p{margin:10px 0;color:#333}.import-drop-zone small{color:#666}.import-buttons{display:flex;justify-content:space-between;align-items:center}.download-sample{color:#007bff;text-decoration:none;font-size:14px}.download-sample:hover{text-decoration:underline}.modal-btn{padding:8px 16px;border-radius:4px;border:none;cursor:pointer;font-size:14px;transition:all .2s ease}.modal-btn.primary{background:#007bff;color:#fff}.modal-btn.primary:hover{background:#0056b3}.modal-btn.secondary{background:#6c757d;color:#fff;margin-right:10px}.modal-btn.secondary:hover{background:#545b62}.points-panel{position:absolute;top:60px;left:10px;width:280px;max-height:calc(100% - 70px);background:#fff;border-radius:8px;box-shadow:0 2px 10px #0000001a;display:flex;flex-direction:column;overflow:hidden}.points-header{padding:15px;background:#f8f9fa;border-bottom:1px solid #e9ecef;font-weight:600;color:#333}.category-filter{padding:10px 15px;border-bottom:1px solid #e9ecef;display:flex;align-items:center}.category-filter label{margin-right:10px;font-weight:600;color:#333}.category-filter select{flex:1;padding:6px 10px;border:1px solid #ddd;border-radius:4px;font-size:14px}.points-list{flex:1;overflow-y:auto;padding:10px}.point-item{padding:12px;border-radius:6px;margin-bottom:8px;background:#f8f9fa;display:flex;align-items:flex-start;transition:all .2s ease}.point-item:hover{background:#e9ecef}.point-item.active{background:#e2f0ff;border-left:3px solid #007bff}.point-info{flex:1;cursor:pointer;margin-left:10px}.point-name{font-weight:600;margin-bottom:8px;color:#333;line-height:1.4;word-wrap:break-word;overflow-wrap:break-word;max-height:2.8em;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}.point-coords{font-size:12px;color:#666}.point-actions{display:flex;gap:6px;margin-top:4px}.action-btn{width:26px;height:26px;border-radius:4px;border:none;background:#e9ecef;color:#495057;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:all .2s ease;font-weight:700}.action-btn:hover{background:#dee2e6;transform:translateY(-1px)}.action-btn.delete:hover{background:#f8d7da;color:#dc3545}.action-btn.move-up:hover,.action-btn.move-down:hover{background:#d1ecf1;color:#0c5460}.detail-panel{position:fixed;top:0;right:0;width:350px;height:100vh;background:#fff;border-left:1px solid #e9ecef;display:flex;flex-direction:column;z-index:10000;transform:translate(100%);transition:transform .3s ease;overflow:hidden}.detail-panel.fullscreen{width:100vw!important;border-left:none!important}.marker-tooltip{padding:8px 12px;background:#fff;color:#333;border-radius:6px;font-size:12px;line-height:1.4;max-width:220px;box-shadow:0 2px 8px #00000026;border:1px solid #ddd}.marker-tooltip .tooltip-title{font-weight:600;margin-bottom:4px;color:#333;font-size:13px}.marker-tooltip .tooltip-coords{color:#666;font-size:11px;margin-bottom:4px;font-family:Monaco,Menlo,monospace}.marker-tooltip .tooltip-content{color:#555;font-size:11px;line-height:1.3;margin-top:2px}.custom-tooltip-popup .mapboxgl-popup-content{padding:0;border-radius:12px;box-shadow:0 8px 32px #0000004d;border:none;background:transparent;max-width:280px}.custom-tooltip-popup .mapboxgl-popup-tip{border-top-color:#fff;border-width:6px}.custom-tooltip-popup .mapboxgl-popup-close-button{display:none}.detail-panel.open{transform:translate(0)}.detail-header{padding:15px;background:#343a40;color:#fff;display:flex;justify-content:space-between;align-items:center}.detail-header h3{margin:0;font-size:16px;font-weight:600}.detail-toolbar{padding:10px 15px;background:#f8f9fa;border-bottom:1px solid #e9ecef;display:flex;justify-content:space-between;align-items:center}.toolbar-left{display:flex;gap:10px}.toolbar-right{display:flex;gap:8px}.toggle-btn{background-color:#fffffff2;color:#333;border:1px solid rgba(0,0,0,.1);padding:0;border-radius:4px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:29px;height:29px;box-shadow:0 2px 8px #00000026}.toggle-btn:hover{background-color:#f8f8f8}.toggle-btn.active{background-color:#f8f8f8;color:#333}.toolbar-btn.save,.toolbar-btn.delete{background-color:#fffffff2;color:#333;border:1px solid rgba(0,0,0,.1);padding:0;border-radius:4px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;justify-content:center;width:29px;height:29px;box-shadow:0 2px 8px #00000026}.toolbar-btn.save:hover,.toolbar-btn.delete:hover{background-color:#f8f8f8}.toolbar-btn:before{filter:none}.close-btn{background:none;border:none;color:#fff;font-size:24px;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .2s ease}.close-btn:hover{background-color:#fff3}.detail-content{flex:1;padding:20px;overflow-y:auto}.form-group{margin-bottom:15px}.form-group label{display:block;margin-bottom:5px;font-weight:600;color:#333}.form-group input,.form-group select,.form-group textarea{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;box-sizing:border-box}.form-group textarea{min-height:200px;resize:vertical;font-family:Courier New,monospace}.form-value{padding:8px 12px;background:#f8f9fa;border:1px solid #e9ecef;border-radius:4px;font-size:14px;color:#495057;min-height:20px}.markdown-preview{border:1px solid #ddd;border-radius:4px;padding:12px;margin-bottom:12px;background:#f8f9fa;min-height:200px;max-height:400px;overflow-y:auto}.markdown-preview h1,.markdown-preview h2,.markdown-preview h3{margin-top:0;margin-bottom:10px}.markdown-preview p{margin-bottom:10px}.markdown-preview ul,.markdown-preview ol{margin-bottom:10px;padding-left:20px}.toast-container{position:fixed;top:20px;right:20px;z-index:9999;display:flex;flex-direction:column;gap:10px}.toast{background:#333;color:#fff;padding:12px 20px;border-radius:6px;box-shadow:0 4px 12px #0000004d;transform:translate(400px);transition:transform .3s ease;max-width:300px;word-wrap:break-word}.toast.show{transform:translate(0)}.toast.success{background:#28a745}.toast.error{background:#dc3545}.toast.warning{background:#ffc107;color:#212529}.preview-card{background:#f8f9fa;border-radius:8px;padding:15px;margin-bottom:20px;box-shadow:0 1px 3px #0000001a}.preview-card-header{display:flex;align-items:center;gap:15px;margin-bottom:10px}.preview-card-icon{width:40px;height:40px;border-radius:50%;background-size:cover;background-position:center;border:2px solid white;box-shadow:0 2px 5px #0003}.preview-card-title{margin:0 0 5px;font-size:18px;color:#333}.preview-card-subtitle{margin:0;font-size:12px;color:#666}@media (max-width: 768px){.points-panel{width:240px}.detail-panel{width:300px}}@media (max-width: 576px){.detail-panel{width:100%;top:0;right:0;bottom:0;max-height:100%;border-radius:0}.points-panel{width:100%;left:0;top:0;max-height:50%;border-radius:0;z-index:1}.detail-panel.open+.points-panel{display:none}.toolbar{top:auto;bottom:10px;right:10px}}.marker{width:30px;height:30px;background-size:contain;background-repeat:no-repeat;background-position:center;cursor:pointer;position:relative;transform-origin:center bottom;will-change:transform}.marker-label{position:absolute;bottom:-25px;left:50%;transform:translate(-50%);white-space:nowrap;color:#333;font-size:11px;font-weight:700;background:#ffffffe6;padding:2px 6px;border-radius:3px;pointer-events:none;opacity:1;transition:opacity .2s ease;border:1px solid rgba(0,0,0,.1);box-shadow:0 1px 3px #0003;z-index:1}.marker:hover .marker-label{opacity:1;background:#fff}.point-icon{width:28px;height:28px;border-radius:50%;background-size:cover;background-position:center;border:2px solid white;box-shadow:0 2px 5px #0003;flex-shrink:0}.visibility-toggle.visible{background:#d4edda;color:#155724}.visibility-toggle.hidden{background:#f8d7da;color:#721c24;opacity:.8}.visibility-toggle.visible:hover{background:#c3e6cb;color:#155724;transform:translateY(-1px)}.visibility-toggle.hidden:hover{background:#f1b0b7;color:#721c24;transform:translateY(-1px)}.switch-container{display:inline-block}.switch{position:relative;width:44px;height:24px;background-color:#ccc;border-radius:12px;cursor:pointer;transition:background-color .3s ease}.switch.checked{background-color:#4caf50}.switch-slider{position:absolute;top:2px;left:2px;width:20px;height:20px;background-color:#fff;border-radius:50%;transition:transform .3s ease;box-shadow:0 2px 4px #0003}.switch.checked .switch-slider{transform:translate(20px)}.switch-field{display:flex;align-items:center;gap:8px}.switch-display{display:inline-flex;align-items:center;gap:8px;padding:4px 8px;border-radius:16px;font-size:12px;font-weight:500}.switch-display.on{background-color:#d4edda;color:#155724}.switch-display.off{background-color:#f8d7da;color:#721c24}.switch-display-slider{width:16px;height:16px;border-radius:50%;background-color:currentColor;opacity:.8}.switch-display-text{font-size:11px}.coordinates-ctrl{font-family:SF Mono,Monaco,Cascadia Code,Roboto Mono,Consolas,Courier New,monospace!important}.title-ctrl{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif!important}.extra-fields{margin:16px 0;padding:12px;background:#f8f9fa;border-radius:6px;border-left:3px solid #007bff}.extra-fields h4{margin:0 0 8px;font-size:14px;font-weight:600;color:#495057}.field-row{margin-bottom:12px}.field-label{font-weight:600;color:#333;margin-bottom:4px;font-size:14px}.field-value{color:#495057;padding:6px 0;line-height:1.4;word-wrap:break-word}.extra-fields-edit{margin:16px 0;padding:12px;background:#f8f9fa;border-radius:6px;border-left:3px solid #28a745}.extra-fields-edit h4{margin:0 0 12px;font-size:14px;font-weight:600;color:#495057}.extra-field-input{width:100%;padding:8px 12px;border:1px solid #ced4da;border-radius:4px;font-size:14px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.extra-field-input:focus{outline:none;border-color:#80bdff;box-shadow:0 0 0 .2rem #007bff40}.mapboxgl-ctrl-geocoder{width:280px!important;z-index:15000!important}.mapboxgl-ctrl-geocoder input{width:100%!important}.mapboxgl-ctrl-geocoder .suggestions,.mapboxgl-ctrl-geocoder .mapboxgl-ctrl-geocoder--suggestion{z-index:15000!important}.marker-label-selected{background:#f44!important;color:#fff!important;font-weight:700!important;padding:4px 8px!important;border-radius:4px!important;box-shadow:0 2px 8px #ff44444d!important;white-space:nowrap!important;font-size:12px!important;display:block!important;opacity:1!important;transform:translateY(-45px)!important;pointer-events:none!important}
